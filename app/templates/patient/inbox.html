{% extends "layouts/patient_base.html" %}
{% block content %}
<div class="container mt-4">

    <h3 class="mb-3">ğŸ“¥ Your Messages</h3>

    {% if messages|length == 0 %}
        <p class="text-muted">You have no conversations yet.</p>
    {% else %}
        <ul class="list-group">
            {% for thread in messages %}
            <a href="{{ url_for('patient_chat.chat', doctor_id=thread.doctor_id) }}" 
               class="list-group-item list-group-item-action d-flex justify-content-between">
                <div>
                    <strong>{{ thread.doctor_name }}</strong><br>
                    <small class="text-muted">{{ thread.last_message }}</small>
                </div>

                <span class="badge bg-primary rounded-pill">{{ thread.unread_count }}</span>
            </a>
            {% endfor %}
        </ul>
    {% endif %}

</div>
{% endblock %}
