{% extends "base.html" %}
{% block content %}
<div class="container py-5">
    
    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-bold text-dark" style="letter-spacing:0.5px;">👥 Manage Admins & Superadmins</h2>
        <a href="{{ url_for('auth.add_admin') }}" class="btn add-btn shadow-sm">
            ➕ Add Admin
        </a>
    </div>

    <!-- Admins Table -->
    <div class="card shadow-lg border-0 rounded-4">
        <div class="card-body p-4">
            <div class="table-responsive">
                <table class="table align-middle table-hover custom-table mb-0">
                    <thead class="table-dark">
                        <tr>
                            <th>👤 Username</th>
                            <th>⚙️ Role</th>
                            <th class="text-center">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for admin in admins %}
                        <tr>
                            <td class="fw-semibold">{{ admin.username }}</td>
                            <td>
                                {% if admin.role == "super_admin" %}
                                    <span class="badge bg-gradient bg-danger px-3 py-2">Super Admin</span>
                                {% else %}
                                    <span class="badge bg-gradient bg-primary px-3 py-2">Admin</span>
                                {% endif %}
                            </td>
                            <td class="text-center">
                                <a href="{{ url_for('auth.reset_admin', user_id=admin.id) }}" 
                                   class="btn btn-warning btn-sm reset-btn shadow-sm">
                                    🔑 Reset Password
                                </a>
                            </td>
                        </tr>
                        {% else %}
                        <tr>
                            <td colspan="3" class="text-center text-muted fst-italic">
                                No admins found. Add one to get started.
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Custom Styles -->
<style>
    .add-btn {
        background: linear-gradient(45deg, #2980b9, #3498db);
        color: #fff;
        font-weight: 600;
        border: none;
        padding: 0.5rem 1.2rem;
        border-radius: 30px;
        transition: all 0.3s ease;
    }
    .add-btn:hover {
        background: linear-gradient(45deg, #3498db, #2980b9);
        transform: translateY(-2px);
    }

    .custom-table thead th {
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }
    .custom-table tbody tr:hover {
        background-color: #f9fbff;
        transition: 0.3s;
    }

    .reset-btn {
        font-weight: 500;
        border-radius: 20px;
        padding: 0.4rem 0.9rem;
        transition: all 0.3s ease;
    }
    .reset-btn:hover {
        transform: scale(1.05);
    }
</style>
{% endblock %}
